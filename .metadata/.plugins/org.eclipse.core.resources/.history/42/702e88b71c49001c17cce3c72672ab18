package Java.com.ex;


import javax.swing.*;
import javax.swing.border.Border;
import javax.swing.plaf.DimensionUIResource;

import java.awt.*;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

public class View {
    JFrame jframe = new JFrame();
    JPanel jpanel = new JPanel();
    JTextField t1 = new JTextField();
    JTextField t2 = new JTextField();
    JTextField t3 = new JTextField();
    JTextField t4 = new JTextField();
    JTextField t5 = new JTextField();
    
    
    JButton btn1, btn2, btn3, btn4, btn5;
    JLabel ㅣ1 = new JLabel("상품 코드 : ");
    JLabel ㅣ2 = new JLabel("이름 : ");
    JLabel ㅣ3 = new JLabel("상품 구분 : ");
    JLabel ㅣ4 = new JLabel("상품 금액 : ");
    JLabel ㅣ5 = new JLabel("검색내용 : ");
    

    View() {
        GUI_init();
    }

    public void GUI_init() {
        jframe.setTitle("창고 관리");
        jframe.setBounds(100, 100, 680, 550);
        jframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        jframe.setVisible(true);
        
        
        jpanel.setLayout(null);
        jframe.add(jpanel);
        
        
        
        
        t1.setBounds(100, 25, 70, 25);
        jpanel.add(t1);
        ㅣ1.setBounds(37, 21, 70, 30);
        jpanel.add(ㅣ1);

        t2.setBounds(213, 25, 70, 25);
        jpanel.add(t2);
        ㅣ2.setBounds(173, 21, 70, 30);
        jpanel.add(ㅣ2);

        t3.setBounds(355, 25, 80, 25);
        jpanel.add(t3);
        ㅣ3.setBounds(290, 21, 70, 30);
        jpanel.add(ㅣ3);
        
        t4.setBounds(515, 25, 80, 25);
        jpanel.add(t4);
        ㅣ4.setBounds(450, 21, 70, 30);
        jpanel.add(ㅣ4);

        t5.setBounds(213, 105, 80, 25);
        jpanel.add(t5);
        ㅣ5.setBounds(150, 100, 70, 30);
        jpanel.add(ㅣ5);
        
        
        JTextArea ta = new JTextArea();
        JScrollPane jsp = new JScrollPane(ta);    
        jpanel.add(jsp,BorderLayout.CENTER);
        ta.setBorder(BorderFactory.createLineBorder(Color.BLACK));
        //jsp.setBounds(23, 145, 420, 250);
        //jpanel.add(jsp);

        jpanel.add(btn1 = new JButton("입력"));
        btn1.setBounds(70, 60, 80, 30);

        jpanel.add(btn2 = new JButton("출력"));
        btn2.setBounds(210, 60, 80, 30);

        jpanel.add(btn3 = new JButton("수정"));
        btn3.setBounds(350, 60, 80, 30);

        jpanel.add(btn4 = new JButton("삭제"));
        btn4.setBounds(490, 60, 80, 30);

        jpanel.add(btn5 = new JButton("검색"));
        btn5.setBounds(300, 100, 80, 30);

        Controller dao = new Controller();


        // 회원 추가
        btn1.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent arg0) {
                ta.setText("");

                String code = t1.getText();
                String name = t2.getText();
                String division = t3.getText();
                String price = t4.getText();

                dao.insertQuddnr(new ModelDto(code, name, division,price));
                ta.append("입력 완료 \n");

                t1.setText("");
                t2.setText("");
                t3.setText("");
                t4.setText("");
            }
        });

        // 회원 목록 출력
        btn2.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent arg0) {
                ta.setText("");
                ArrayList<ModelDto> arr = new ArrayList<ModelDto>();
                arr = dao.readQuddnr();

                ta.append("\t" + "상품 코드" + "\t" + "상품명" + "\t" + "상품 구분"+"\t"+"상품 금액\n");
                ta.append("\t" + "==========================================\n");

                for (int i = 0; i < arr.size(); i++) {
                    ta.append("\t" + arr.get(i).getCode() + " \t " + arr.get(i).getName() + " \t " + arr.get(i).getDivision()
                            + " \t "+ arr.get(i).getPrice()+"\n");
                }
            }
        });

        // 회원 수정
        btn3.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent arg0) {
                ta.setText("");

                String code = t1.getText();
                String name = t2.getText();
                String division = t3.getText();
                String price = t4.getText();

                dao.updateQuddnr(code,name);
                ta.append("수정 완료 \n");

                t1.setText("");
                t2.setText("");
                t3.setText("");
                t4.setText("");
            }
        });

        // 회원 삭제
        btn4.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent arg0) {
                ta.setText("");

                String code = t1.getText();
                dao.deleteQuddnr(code);
                ta.append("삭제 완료 \n");

                t1.setText("");
                t2.setText("");
                t3.setText("");
                t4.setText("");
            }
        });

        // 회원 검색
        btn5.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent arg0) {
                ta.setText("");
                String content = t5.getText();

                ArrayList<ModelDto> arr = new ArrayList<ModelDto>();
                arr = dao.searchQuddnr(content);
                ta.append(" \n");

                ta.append("\t" + "상품 코드" + "\t" + "상품명" + "\t" + "상품 구분\t"+ "상품 가격\n");
                ta.append("\t" + "==============================================\n");

                for (int i = 0; i < arr.size(); i++) {
                    ta.append("\t" + arr.get(i).getCode() + " \t " + arr.get(i).getName() + " \t " + arr.get(i).getDivision()
                            + "\t"+arr.get(i).getPrice()+"\n");
                }

                t1.setText("");
                t2.setText("");
                t3.setText("");
                t4.setText("");
            }
        });
    }
}